{
    "type": {
        "TwissFile": {
            "base": "File",
            "config": {
                "pattern": ".+\\.tfs",
                "isRequired": true,
                "inspectModal": {
                    "title": "Twiss Parameters",
                    "items": [
                        {
                            "layout": "autoRunReport",
                            "config": {
                                "report": "twissReport",
                                "dependencies": [
                                    "ionBeam.*",
                                    "intrabeamScatteringRate.*",
                                    "electronCoolingRate.*",
                                    "ring.*",
                                    "simulationSettings.*",
                                    "electronBeam.*",
                                    "cooler.*"
                                ],
                                "reportLayout": {
                                    "layout": "graph2d"
                                }
                            }
                        }
                    ]
                }
            }
        },
        "ElegantSimList": {
            "base": "ComputeEnum",
            "config": {
                "computeMethod": "get_elegant_sim_list",
                "resultName": "simList"
            }
        },
        "ElectronBeamShape": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["dc_uniform", "Cylindrical"],
                    ["bunched_gaussian", "Gaussian"],
                    ["bunched_uniform", "Cylindrical"],
                    ["bunched_uniform_elliptic", "Cylindrical (elliptical cross-section)"]
                ]
            }
        },
        "ElectronBeamShapeDescription": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["dc_uniform", "The unbunched electron beam is a continuous cylinder with circular cross-section."],
                    ["bunched_gaussian", "The electron beam is a 3D Gaussian distribution in space."],
                    ["bunched_uniform", "The electron beam is a uniformly-filled 3D cylinder with circular cross-section."],
                    ["bunched_uniform_elliptic", "The electron beam is a uniformly-filled 3D cylinder with elliptical cross-section."]
                ]
            }
        },
        "BeamColumn": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["emitx", "emit_x"],
                    ["emity", "emit_y"],
                    ["dpp", "dp/p"],
                    ["sigmas", "sigma_s"]
                ]
            }
        },
        "BeamOptionalColumn": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["emitx", "emit_x"],
                    ["emity", "emit_y"],
                    ["dpp", "dp/p"],
                    ["sigmas", "sigma_s"],
                    ["none", "None"]
                ]
            }
        },
        "BeamParticle": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["ALUMINUM", "Aluminum"],
                    ["COPPER", "Copper"],
                    ["DEUTERON", "Deuteron"],
                    ["GOLD", "Gold"],
                    ["HELIUM", "Helium"],
                    ["LEAD", "Lead"],
                    ["PROTON", "Proton"],
                    ["RUTHENIUM", "Ruthenium"],
                    ["URANIUM", "Uranium"],
                    ["ZIRCONIUM", "Zirconium"],
                    ["OTHER", "Other"]
                ]
            }
        },
        "BeamType": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["bunched", "Bunched Beam"],
                    ["continuous", "Continuous Beam"]
                ]
            }
        },
        "CoolingRatesColumn": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["rx", "rx"],
                    ["ry", "ry"],
                    ["rs", "rs"],
                    ["rxibs", "rx_ibs"],
                    ["ryibs", "ry_ibs"],
                    ["rsibs", "rs_ibs"],
                    ["rxecool", "rx_ecool"],
                    ["ryecool", "ry_ecool"],
                    ["rsecool", "rs_ecool"]
                ]
            }
        },
        "ColorRangeType": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["none", "None"],
                    ["fixed", "Fixed"]
                ]
            }
        },
        "CoolingRatesOptionalColumn": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["rx", "rx"],
                    ["ry", "ry"],
                    ["rs", "rs"],
                    ["rxibs", "rx_ibs"],
                    ["ryibs", "ry_ibs"],
                    ["rsibs", "rs_ibs"],
                    ["rxecool", "rx_ecool"],
                    ["ryecool", "ry_ecool"],
                    ["rsecool", "rs_ecool"],
                    ["none", "None"]
                ]
            }
        },
        "ForceFormula": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["parkhomchuk", "Parkhomchuk"],
                    ["derbenevskrinsky", "Derbenev-Skrinsky"],
                    ["meshkov", "Meshkov"],
                    ["unmagnetized", "Unmagnetized"],
                    ["budker", "Budker (un-magnetized)"],
                    ["pogorelov", "Pogorelov-Bruhwiler"],
                    ["pogorelov_warm", "Pogorelov-Bruhwiler warm electrons"]
                ]
            }
        },
        "ForceScaleFactor": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["negative", "-1"],
                    ["positive", "1"]
                ]
            }
        },
        "ForceTableColumn": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["fx", "Transverse Force"],
                    ["flong", "Longitudinal Force"],
                    ["Vtrans", "Transverse Velocity"],
                    ["Vlong", "Longitudinal Velocity"],
                    ["edensity", "Electron Density"]
                ]
            }
        },
        "ForceTablePlot": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["longitudinal", "Longitudinal"],
                    ["transverse", "Transverse"]
                ]
            }
        },
        "FramesPerSecond": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["1", "1"],
                    ["2", "2"],
                    ["5", "5"],
                    ["10", "10"],
                    ["15", "15"],
                    ["20", "20"]
                ]
            }
        },
        "IBSLongitudinalMethod": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["nz", "Longitudinal Grid Size"],
                    ["log_c", "Coulomb Logarithm"]
                ]
            }
        },
        "IBSModel": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["bm", "Bjorken-Mtingwa"],
                    ["martini", "Martini"]
                ]
            }
        },
        "LatticeSource": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["madx", "Mad-X TFS File"],
                    ["elegant", "elegant twiss_output SDDS File"],
                    ["elegant-sirepo", "Sirepo elegant Simulation"]
                ]
            }
        },
        "ParticleColumn": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["x", "x"],
                    ["xp", "xp"],
                    ["y", "y"],
                    ["yp", "yp"],
                    ["ds", "ds"],
                    ["dpp", "dp/p"]
                ]
            }
        },
        "PlotRangeType": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["none", "None"],
                    ["fit", "Fit Data"],
                    ["fixed", "Fixed"]
                ]
            }
        },
        "SimulationModel": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["rms", "RMS"],
                    ["particle", "Particle"]
                ]
            }
        },
        "TwissParameter": {
            "base": "Enum",
            "config": {
                "allowedValues": [
                    ["betx", "betax"],
                    ["alfx", "alphax"],
                    ["mux", "mux"],
                    ["dx", "dx"],
                    ["dpx", "dpx"],
                    ["bety", "betay"],
                    ["alfy", "alphay"],
                    ["muy", "muy"],
                    ["dy", "dy"],
                    ["dpy", "dpy"],
                    ["none", "None"]
                ]
            }
        }
    },
    "model": {
        "beamEvolutionAnimation": {
            "y1": {
                "displayName": "Y1 Value",
                "type": "BeamColumn",
                "defaultValue": "emitx"
            },
            "y2": {
                "displayName": "Y2 Value",
                "type": "BeamOptionalColumn",
                "defaultValue": "emity"
            },
            "y3": {
                "displayName": "Y3 Value",
                "type": "BeamOptionalColumn",
                "defaultValue": "none"
            },
            "plotRangeType": {
                "displayName": "Range",
                "type": "PlotRangeType",
                "defaultValue": "none"
            },
            "horizontalSize": {
                "displayName": "Horizontal Size",
                "type": "Float",
                "defaultValue": 0
            },
            "verticalSize": {
                "displayName": "Vertical Size",
                "type": "Float",
                "defaultValue": 0
            },
            "horizontalOffset": {
                "displayName": "Horizontal Offset",
                "type": "Float",
                "defaultValue": 0
            },
            "verticalOffset": {
                "displayName": "Vertical Offset",
                "type": "Float",
                "defaultValue": 0
            },
            "notes": {
                "displayName": "Notes",
                "type": "Text",
                "defaultValue": ""
            }
        },
        "cooler": {
            "length": {
                "displayName": "Length (lab frame) [m]",
                "type": "Float",
                "defaultValue": 3.4,
                "description": "",
                "min": 1e-99
            },
            "section_number": {
                "displayName": "Number of Coolers",
                "type": "Integer",
                "defaultValue": 1
            },
            "magnetic_field": {
                "displayName": "Magnetic Field [T]",
                "type": "Float",
                "defaultValue": 0.039
            },
            "bet_x": {
                "displayName": "Horizontal Beta [m]",
                "type": "Float",
                "defaultValue": 10,
                "description": "Beta function",
                "min": 1e-99
            },
            "bet_y": {
                "displayName": "Vertical Beta [m]",
                "type": "Float",
                "defaultValue": 10,
                "description": "Beta function",
                "min": 1e-99
            },
            "disp_x": {
                "displayName": "Horizontal Dispersion [m]",
                "type": "Float",
                "defaultValue": 0
            },
            "disp_y": {
                "displayName": "Vertical Dispersion [m]",
                "type": "Float",
                "defaultValue": 0
            },
            "alpha_x": {
                "displayName": "Horizontal Alpha",
                "type": "Float",
                "defaultValue": 0
            },
            "alpha_y": {
                "displayName": "Vertical Alpha",
                "type": "Float",
                "defaultValue": 0
            },
            "disp_dx": {
                "displayName": "Horizontal Dispersion Derivative",
                "type": "Float",
                "defaultValue": 0,
                "description": "Derivative of the dispersion"
            },
            "disp_dy": {
                "displayName": "Vertical Dispersion Derivative",
                "type": "Float",
                "defaultValue": 0,
                "description": "Derivative of the dispersion"
            }
        },
        "coolingRatesAnimation": {
            "y1": {
                "displayName": "Y1 Value",
                "type": "CoolingRatesColumn",
                "defaultValue": "rx"
            },
            "y2": {
                "displayName": "Y2 Value",
                "type": "CoolingRatesOptionalColumn",
                "defaultValue": "ry"
            },
            "y3": {
                "displayName": "Y3 Value",
                "type": "CoolingRatesOptionalColumn",
                "defaultValue": "rs"
            },
            "plotRangeType": {
                "displayName": "Range",
                "type": "PlotRangeType",
                "defaultValue": "none"
            },
            "horizontalSize": {
                "displayName": "Horizontal Size",
                "type": "Float",
                "defaultValue": 0
            },
            "verticalSize": {
                "displayName": "Vertical Size",
                "type": "Float",
                "defaultValue": 0
            },
            "horizontalOffset": {
                "displayName": "Horizontal Offset",
                "type": "Float",
                "defaultValue": 0
            },
            "verticalOffset": {
                "displayName": "Vertical Offset",
                "type": "Float",
                "defaultValue": 0
            },
            "notes": {
                "displayName": "Notes",
                "type": "Text",
                "defaultValue": ""
            }
        },
        "electronBeam": {
            "gamma": {
                "displayName": "Gamma",
                "type": "Float",
                "defaultValue": null,
                "description": "Lorentz factor gamma for the cooling electron beam."
            },
            "tmp_tr": {
                "displayName": "Transverse Temperature [eV]",
                "type": "Float",
                "defaultValue": 0.1,
                "description": "",
                "min": 0
            },
            "tmp_l": {
                "displayName": "Longitudinal Temperature [eV]",
                "type": "Float",
                "defaultValue": 0.01,
                "description": "",
                "min": 0
            },
            "shape": {
                "displayName": "Shape",
                "type": "ElectronBeamShape",
                "defaultValue": "dc_uniform",
                "description": "Shape of the electron beam."
            },
            "radius": {
                "displayName": "Radius [m]",
                "type": "Float",
                "defaultValue": 0.004,
                "description": "",
                "min": 1e-99,
                "shown": "$(electronBeam.shape) == 'dc_uniform' || $(electronBeam.shape) == 'bunched_uniform'"
            },
            "current": {
                "displayName": "Current [A]",
                "type": "Float",
                "defaultValue": 2,
                "description": "",
                "min": 0,
                "shown": "$(electronBeam.shape) == 'dc_uniform' || $(electronBeam.shape) == 'bunched_uniform' || $(electronBeam.shape) == 'bunched_uniform_elliptic'"
            },
            "sigma_x": {
                "displayName": "Horizontal RMS Size",
                "type": "Float",
                "defaultValue": 0.015,
                "description": "",
                "min": 1e-99,
                "shown": "$(electronBeam.shape) == 'bunched_gaussian'"
            },
            "sigma_y": {
                "displayName": "Vertical RMS Size",
                "type": "Float",
                "defaultValue": 0.015,
                "description": "",
                "min": 1e-99,
                "shown": "$(electronBeam.shape) == 'bunched_gaussian'"
            },
            "sigma_z": {
                "displayName": "RMS Bunch Length",
                "type": "Float",
                "defaultValue": 0.02,
                "description": "",
                "min": 1e-99,
                "shown": "$(electronBeam.shape) == 'bunched_gaussian'"
            },
            "length": {
                "displayName": "Length [m]",
                "type": "Float",
                "defaultValue": 0.2,
                "description": "",
                "min": 1e-99,
                "shown": "$(electronBeam.shape) == 'bunched_uniform' || $(electronBeam.shape) == 'bunched_uniform_elliptic'"
            },
            "e_number": {
                "displayName": "Number of Electrons",
                "type": "Float",
                "defaultValue": 100000000,
                "description": "",
                "min": 1,
                "shown": "$(electronBeam.shape) == 'bunched_gaussian'"
            },
            "beam_type": {
                "displayName": "Beam Type",
                "type": "BeamType",
                "defaultValue": "bunched"
            },
            "rh": {
                "displayName": "Horizontal Semi-Axis Length [m]",
                "type": "Float",
                "defaultValue": 0.004,
                "description": "",
                "min": 1e-99,
                "shown": "$(electronBeam.shape) == 'bunched_uniform_elliptic'"
            },
            "rv": {
                "displayName": "Vertical Semi-Axis Length [m]",
                "type": "Float",
                "defaultValue": 0.004,
                "description": "",
                "min": 1e-99,
                "shown": "$(electronBeam.shape) == 'bunched_uniform_elliptic'"
            }
        },
        "electronCoolingRate": {
            "sample_number": {
                "displayName": "Number of Sample Ions",
                "type": "Float",
                "defaultValue": 100000,
                "description": "",
                "min": 1,
                "shown": "$(simulationSettings.model) == 'particle'"
            },
            "force_formula": {
                "displayName": "Force Formula",
                "type": "ForceFormula",
                "defaultValue": "parkhomchuk"
            }
        },
        "forceTableAnimation": {
            "plot": {
                "displayName": "Plot Type",
                "type": "ForceTablePlot",
                "defaultValue": "transverse"
            },
            "x": {
                "displayName": "X Value",
                "type": "ForceTableColumn",
                "defaultValue": "Vtrans"
            },
            "y1": {
                "displayName": "Y1 Value",
                "type": "ForceTableColumn",
                "defaultValue": "fx"
            },
            "forceScale": {
                "displayName": "Force Scale",
                "type": "ForceScaleFactor",
                "defaultValue": "negative"
            },
            "plotRangeType": {
                "displayName": "Range",
                "type": "PlotRangeType",
                "defaultValue": "none"
            },
            "horizontalSize": {
                "displayName": "Horizontal Size",
                "type": "Float",
                "defaultValue": 0
            },
            "verticalSize": {
                "displayName": "Vertical Size",
                "type": "Float",
                "defaultValue": 0
            },
            "horizontalOffset": {
                "displayName": "Horizontal Offset",
                "type": "Float",
                "defaultValue": 0
            },
            "verticalOffset": {
                "displayName": "Vertical Offset",
                "type": "Float",
                "defaultValue": 0
            },
            "notes": {
                "displayName": "Notes",
                "type": "Text",
                "defaultValue": ""
            }
        },
        "intrabeamScatteringRate": {
            "ibs_model": {
                "displayName": "Model",
                "type": "IBSModel",
                "defaultValue": "martini"
            },
            "nu": {
                "displayName": "Horizontal Grid Size",
                "type": "Integer",
                "defaultValue": 100,
                "description": "Set the grid number in horizontal direction for the 3D integration.",
                "min": 1
            },
            "nv": {
                "displayName": "Vertical Grid Size",
                "type": "Integer",
                "defaultValue": 100,
                "description": "Set the grid number in vertical direction for the 3D integration.",
                "min": 1
            },
            "longitudinalMethod": {
                "displayName": "Longitudinal Method",
                "type": "IBSLongitudinalMethod",
                "defaultValue": "nz"
            },
            "nz": {
                "displayName": "Longitudinal Grid Size",
                "type": "Integer",
                "defaultValue": 40,
                "description": "Set the grid number in longitudinal direction for the 3D integration.",
                "min": 1,
                "shown": "$(intrabeamScatteringRate.longitudinalMethod) == 'nz'"
            },
            "log_c": {
                "displayName": "Coulomb Logarithm",
                "type": "Float",
                "defaultValue": 20.6,
                "description": "",
                "min": 1e-99,
                "shown": "$(intrabeamScatteringRate.longitudinalMethod) == 'log_c'"
            },
            "coupling": {
                "displayName": "Transverse Coupling Rate",
                "type": "Float",
                "defaultValue": null,
                "description": "Transverse coupling rate, ranging from 0 to 1.",
                "min": 0,
                "max": 1
            }
        },
        "ionBeam": {
            "particle": {
                "displayName": "Particle",
                "type": "BeamParticle",
                "defaultValue": "PROTON",
                "description": "Name of particle to be used"
            },
            "charge_number": {
                "displayName": "Ion Charges",
                "type": "Integer",
                "defaultValue": 1,
                "description": "Number of the charges of the ion.",
                "min": 1e-99,
                "shown": "$(ionBeam.particle) == 'OTHER'"
            },
            "mass": {
                "displayName": "Mass [MeV/c²]",
                "type": "Float",
                "defaultValue": 938.272,
                "description": "Mass of the ion.",
                "min": 1e-99,
                "shown": "$(ionBeam.particle) == 'OTHER'"
            },
            "kinetic_energy": {
                "displayName": "Kinetic Energy [MeV]",
                "type": "Float",
                "defaultValue": 8000,
                "description": "Kinetic energy of the ion.",
                "min": 1e-99
            },
            "norm_emit_x": {
                "displayName": "RMS Normalized Horizontal Emittance [m*rad]",
                "type": "Float",
                "defaultValue": 0.0000022,
                "description": "",
                "min": 1e-99
            },
            "norm_emit_y": {
                "displayName": "RMS Normalized Vertical Emittance [m*rad]",
                "type": "Float",
                "defaultValue": 0.0000022,
                "description": "",
                "min": 1e-99
            },
            "momentum_spread": {
                "displayName": "RMS Momentum Spread",
                "type": "Float",
                "defaultValue": 0.0006,
                "description": "Momentum spread of the ion beam.",
                "min": 0
            },
            "particle_number": {
                "displayName": "Number of Ions",
                "type": "Float",
                "defaultValue": 658000000000,
                "description": "Total particle number for coasting ion beam or the particle number of one bunch for bunched ion beam.",
                "min": 1
            },
            "rms_bunch_length": {
                "displayName": "RMS Bunch Length [m]",
                "type": "Float",
                "defaultValue": 7,
                "description": "RMS bunch length for the bunched ion beam.",
                "min": 1e-99,
                "shown": "$(ionBeam.beam_type) == 'bunched'"
            },
            "beam_type": {
                "displayName": "Beam Type",
                "type": "BeamType",
                "defaultValue": "bunched"
            }
        },
        "particleAnimation": {
            "x": {
                "displayName": "X Value",
                "type": "ParticleColumn"
            },
            "y": {
                "displayName": "Y Value",
                "type": "ParticleColumn"
            },
            "histogramBins": {
                "displayName": "Histogram Bins",
                "type": "Integer"
            },
            "framesPerSecond": {
                "displayName": "Frames per Second",
                "type": "FramesPerSecond",
                "defaultValue": "5"
            },
            "plotRangeType": {
                "displayName": "Range",
                "type": "PlotRangeType",
                "defaultValue": "fit"
            },
            "horizontalSize": {
                "displayName": "Horizontal Size",
                "type": "Float",
                "defaultValue": 0
            },
            "verticalSize": {
                "displayName": "Vertical Size",
                "type": "Float",
                "defaultValue": 0
            },
            "horizontalOffset": {
                "displayName": "Horizontal Offset",
                "type": "Float",
                "defaultValue": 0
            },
            "verticalOffset": {
                "displayName": "Vertical Offset",
                "type": "Float",
                "defaultValue": 0
            },
            "colorRangeType": {
                "displayName": "Range",
                "type": "ColorRangeType",
                "defaultValue": "none"
            },
            "colorMin": {
                "displayName": "Minimum Histogram Value",
                "type": "Float",
                "defaultValue": 0,
                "shown": "$(particleAnimation.colorRangeType) == 'fixed'"
            },
            "colorMax": {
                "displayName": "Maximum Histogram Value",
                "type": "Float",
                "defaultValue": 10,
                "shown": "$(particleAnimation.colorRangeType) == 'fixed'"
            }
        },
        "rateCalculationReport": {},
        "ring": {
            "latticeSource": {
                "displayName": "Lattice Source",
                "type": "LatticeSource",
                "defaultValue": "madx",
                "description": ""
            },
            "lattice": {
                "displayName": "Ring Lattice File",
                "type": "TwissFile",
                "defaultValue": null,
                "description": "This file should be in the MAD-X output format (*.tfs).",
                "shown": "$(ring.latticeSource) == 'madx'"
            },
            "elegantTwiss": {
                "displayName": "Elegant twiss_output",
                "type": "TwissFile",
                "defaultValue": null,
                "description": "This file should be the SDDS output from the twiss_output command.",
                "shown": "$(ring.latticeSource) == 'elegant'"
            },
            "elegantSirepo": {
                "displayName": "Elegant Simulation",
                "type": "ElegantSimList",
                "defaultValue": null,
                "shown": "$(ring.latticeSource) == 'elegant-sirepo'"
            }
        },
        "simulationSettings": {
            "time": {
                "displayName": "Total Simulation Time [s]",
                "type": "Float",
                "defaultValue": 60,
                "description": "",
                "min": 1e-99
            },
            "step_number": {
                "displayName": "Total Number of Steps",
                "type": "Integer",
                "defaultValue": 60,
                "description": "The time interval of each step is time/step_number.",
                "min": 1
            },
            "time_step": {
                "displayName": "Time Step [s]",
                "type": "Float",
                "defaultValue": 1,
                "description": "Number of steps per second",
                "min": 1e-99
            },
            "ibs": {
                "displayName": "Simulate the IBS Effect",
                "type": "Boolean",
                "defaultValue": "1"
            },
            "e_cool": {
                "displayName": "Simulate Electron Cooling Effect",
                "type": "Boolean",
                "defaultValue": "1"
            },
            "model": {
                "displayName": "Model",
                "type": "SimulationModel",
                "defaultValue": "particle"
            },
            "save_particle_interval": {
                "displayName": "Save Particle Interval",
                "type": "Integer",
                "defaultValue": -1,
                "description": "The interval of steps to save the 6D coordinates of the ions. No saving if the value is less than zero.",
                "min": -1,
                "shown": "$(simulationSettings.model) == 'particle'"
            },
            "ref_bet_x": {
                "displayName": "Horizontal Beta Reference Point",
                "type": "Float",
                "defaultValue": 10,
                "description": "TWISS parameters for the reference point. Only needed when the Particle model is selected and the electron cooling effect is not included in the simulation.",
                "min": 1e-99
            },
            "ref_bet_y": {
                "displayName": "Vertical Beta Reference Point",
                "type": "Float",
                "defaultValue": 10,
                "description": "",
                "min": 1e-99
            },
            "ref_alf_x": {
                "displayName": "Horizontal Alpha Reference Point",
                "type": "Float"
            },
            "ref_alf_y": {
                "displayName": "Vertical Alpha Reference Point",
                "type": "Float"
            },
            "ref_disp_x": {
                "displayName": "Horizontal Dispersion Reference Point",
                "type": "Float"
            },
            "ref_disp_y": {
                "displayName": "Vertical Dispersion Reference Point",
                "type": "Float"
            },
            "ref_disp_dx": {
                "displayName": "Horizontal Dispersion Derivative Reference Point",
                "type": "Float"
            },
            "ref_disp_dy": {
                "displayName": "Vertical Dispersion Derivative Reference Point",
                "type": "Float"
            }
        },
        "simulationStatus": {},
        "twissReport": {
            "y1": {
                "displayName": "Y1 Value",
                "type": "TwissParameter",
                "defaultValue": "betx"
            },
            "y2": {
                "displayName": "Y2 Value",
                "type": "TwissParameter",
                "defaultValue": "bety"
            },
            "y3": {
                "displayName": "Y3 Value",
                "type": "TwissParameter",
                "defaultValue": "dx"
            }
        }
    },
    "view": [
        {
          "layout": "navbarModalButton",
          "config": {
            "name": "simulationRenameNavButton",
            "title": "$(simulation.name)",
            "icon": "faPencil",
            "modal": {
              "title": "Simulation",
              "items": [
                {
                  "layout": "fieldList",
                  "config": { "name": "simulation", "fields": ["simulation.name"] }
                }
              ]
            }
          }
        },
        {
          "layout": "navTabs",
          "config": {
            "name": "navtabs",
            "tabs": [
              {
                "name": "source",
                "title": "Source",
                "icon": "",
                "items": [
                  {
                    "layout": "panel",
                    "config": {
                      "name": "ionBeam",
                      "title": "Ion Beam",
                      "basic": [
                        {
                          "layout": "fieldList",
                          "config": {
                            "fields": [
                              "ionBeam.particle",
                              "ionBeam.charge_number",
                              "ionBeam.mass",
                              "ionBeam.kinetic_energy",
                              "ionBeam.momentum_spread",
                              "ionBeam.particle_number",
                              "ionBeam.beam_type",
                              "ionBeam.rms_bunch_length"
                            ]
                          }
                        },
                        {
                          "layout": "fieldTable",
                          "config": {
                            "columns": ["Horizontal", "Vertical"],
                            "rows": [
                              {
                                "label": "RMS Normalized Emittance [m*rad]",
                                "fields": [
                                  "ionBeam.norm_emit_x",
                                  "ionBeam.norm_emit_y"
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "layout": "panel",
                    "config": {
                      "name": "coolingAndIBS",
                      "title": "Cooling and Intrabeam Scattering",
                      "basic": [
                        {
                          "layout": "tabs",
                          "config": {
                            "tabs": [
                              {
                                "name": "Electron Cooling",
                                "items": [
                                  {
                                    "layout": "fieldList",
                                    "config": {
                                      "fields": [
                                        "electronCoolingRate.sample_number",
                                        "electronCoolingRate.force_formula"
                                      ]
                                    }
                                  }
                                ]
                              },
                              {
                                "name": "Intrabeam Scattering",
                                "items": [
                                  {
                                    "layout": "fieldList",
                                    "config": {
                                      "fields": [
                                        "intrabeamScatteringRate.ibs_model",
                                        "intrabeamScatteringRate.nu",
                                        "intrabeamScatteringRate.nv",
                                        "intrabeamScatteringRate.longitudinalMethod",
                                        "intrabeamScatteringRate.nz",
                                        "intrabeamScatteringRate.log_c",
                                        "intrabeamScatteringRate.coupling"
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "layout": "panel",
                    "config": {
                      "title": "Rate Calculation Report",
                      "basic": [
                        {
                          "layout": "autoRunReport",
                          "config": {
                            "report": "rateCalculationReport",
                            "dependencies": [
                              "ionBeam.*",
                              "intrabeamScatteringRate.*",
                              "electronCoolingRate.*",
                              "ring.*",
                              "simulationSettings.*",
                              "electronBeam.*",
                              "cooler.*"
                            ],
                            "reportLayout": {
                              "layout": "table",
                              "config": { "dataAttributeName": "rate" }
                            }
                          }
                        }
                      ]
                    }
                  },
                  {
                    "layout": "panel",
                    "config": {
                      "name": "ring",
                      "title": "Ring",
                      "basic": [
                        {
                          "layout": "fieldList",
                          "config": {
                            "fields": [
                              "ring.latticeSource",
                              "ring.lattice",
                              "ring.elegantTwiss",
                              "ring.elegantSirepo"
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "layout": "panel",
                    "config": {
                      "name": "electronBeam",
                      "title": "Cooling Electron Beam",
                      "basic": [
                        {
                          "layout": "fieldList",
                          "config": {
                            "fields": [
                              "electronBeam.gamma",
                              "electronBeam.tmp_tr",
                              "electronBeam.tmp_l",
                              "electronBeam.beam_type",
                              "electronBeam.shape",
                              "electronBeam.radius",
                              "electronBeam.rh",
                              "electronBeam.rv",
                              "electronBeam.current",
                              "electronBeam.sigma_x",
                              "electronBeam.sigma_y",
                              "electronBeam.sigma_z",
                              "electronBeam.length",
                              "electronBeam.e_number"
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "layout": "panel",
                    "config": {
                      "name": "cooler",
                      "title": "Cooler",
                      "basic": [
                        {
                          "layout": "fieldList",
                          "config": {
                            "fields": [
                              "cooler.length",
                              "cooler.section_number",
                              "cooler.magnetic_field"
                            ]
                          }
                        },
                        {
                          "layout": "fieldTable",
                          "config": {
                            "columns": ["Horizontal", "Vertical"],
                            "rows": [
                              {
                                "label": "Beta [m]",
                                "description": "Beta function",
                                "fields": ["cooler.bet_x", "cooler.bet_y"]
                              },
                              {
                                "label": "Dispersion [m]",
                                "fields": ["cooler.disp_x", "cooler.disp_y"]
                              },
                              {
                                "label": "Alpha",
                                "fields": ["cooler.alpha_x", "cooler.alpha_y"]
                              },
                              {
                                "label": "Dispersion Derivative",
                                "description": "Derivative of dispersion",
                                "fields": ["cooler.disp_dx", "cooler.disp_dy"]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "name": "visualization",
                "title": "Visualization",
                "icon": "",
                "items": [
                  {
                    "layout": "panel",
                    "config": {
                      "name": "simulationSettings",
                      "title": "Simulation Settings",
                      "basic": [
                        {
                          "layout": "fieldList",
                          "config": {
                            "fields": [
                              "simulationSettings.time",
                              "simulationSettings.step_number",
                              "simulationSettings.time_step",
                              "simulationSettings.model",
                              "simulationSettings.save_particle_interval",
                              "electronCoolingRate.sample_number",
                              "simulationSettings.ibs",
                              "simulationSettings.e_cool"
                            ]
                          }
                        },
                        {
                          "layout": "fieldTable",
                          "config": {
                            "columns": ["Horizontal", "Vertical"],
                            "rows": [
                              {
                                "label": "Beta Reference Point",
                                "fields": [
                                  "simulationSettings.ref_bet_x",
                                  "simulationSettings.ref_bet_y"
                                ],
                                "shown": "$(simulationSettings.model) == 'particle' && $(simulationSettings.e_cool) == '0'"
                              },
                              {
                                "label": "Alpha Reference Point",
                                "fields": [
                                  "simulationSettings.ref_alf_x",
                                  "simulationSettings.ref_alf_y"
                                ]
                              },
                              {
                                "label": "Dispersion Reference Point",
                                "fields": [
                                  "simulationSettings.ref_disp_x",
                                  "simulationSettings.ref_disp_y"
                                ]
                              },
                              {
                                "label": "Dispersion Derivative Reference Point",
                                "fields": [
                                  "simulationSettings.ref_disp_dx",
                                  "simulationSettings.ref_disp_dy"
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "layout": "panel",
                    "config": {
                      "name": "simulationStatus",
                      "title": "Simulation Status",
                      "basic": [
                        {
                          "layout": "startSimulation",
                          "config": { "reportGroupName": "animation" }
                        }
                      ]
                    }
                  },
                  {
                    "layout": "panel",
                    "config": {
                      "name": "beamEvolutionAnimation",
                      "title": "RMS Ion Beam Evolution",
                      "basic": [
                        {
                          "layout": "manualRunReport",
                          "config": {
                            "reportGroupName": "animation",
                            "reportName": "beamEvolutionAnimation",
                            "frameIdFields": [
                              "beamEvolutionAnimation.y1",
                              "beamEvolutionAnimation.y2",
                              "beamEvolutionAnimation.y3",
                              "beamEvolutionAnimation.plotRangeType",
                              "beamEvolutionAnimation.horizontalSize",
                              "beamEvolutionAnimation.horizontalOffset",
                              "beamEvolutionAnimation.verticalSize",
                              "beamEvolutionAnimation.verticalOffset"
                            ],
                            "reportLayout": { "layout": "graph2d", "config": {} }
                          }
                        }
                      ],
                      "advanced": [
                        {
                          "layout": "tabs",
                          "config": {
                            "tabs": [
                              {
                                "name": "Main",
                                "items": [
                                  {
                                    "layout": "fieldList",
                                    "config": {
                                      "fields": [
                                        "beamEvolutionAnimation.y1",
                                        "beamEvolutionAnimation.y2",
                                        "beamEvolutionAnimation.y3",
                                        "beamEvolutionAnimation.notes"
                                      ]
                                    }
                                  }
                                ]
                              },
                              {
                                "name": "Plot Range",
                                "items": [
                                  {
                                    "layout": "fieldList",
                                    "config": {
                                      "fields": [
                                        "beamEvolutionAnimation.plotRangeType"
                                      ]
                                    }
                                  },
                                  {
                                    "layout": "fieldTable",
                                    "config": {
                                      "columns": ["Horizontal", "Vertical"],
                                      "rows": [
                                        {
                                          "label": "Size",
                                          "fields": [
                                            "beamEvolutionAnimation.horizontalSize",
                                            "beamEvolutionAnimation.verticalSize"
                                          ]
                                        },
                                        {
                                          "label": "Offset",
                                          "fields": [
                                            "beamEvolutionAnimation.horizontalOffset",
                                            "beamEvolutionAnimation.verticalOffset"
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "layout": "panel",
                    "config": {
                      "name": "coolingRatesAnimation",
                      "title": "IBS & Cooling Rates",
                      "basic": [
                        {
                          "layout": "manualRunReport",
                          "config": {
                            "reportGroupName": "animation",
                            "reportName": "coolingRatesAnimation",
                            "frameIdFields": [
                              "coolingRatesAnimation.y1",
                              "coolingRatesAnimation.y2",
                              "coolingRatesAnimation.y3",
                              "coolingRatesAnimation.plotRangeType",
                              "coolingRatesAnimation.horizontalSize",
                              "coolingRatesAnimation.horizontalOffset",
                              "coolingRatesAnimation.verticalSize",
                              "coolingRatesAnimation.verticalOffset"
                            ],
                            "reportLayout": { "layout": "graph2d", "config": {} }
                          }
                        }
                      ],
                      "advanced": [
                        {
                          "layout": "tabs",
                          "config": {
                            "tabs": [
                              {
                                "name": "Main",
                                "items": [
                                  {
                                    "layout": "fieldList",
                                    "config": {
                                      "fields": [
                                        "coolingRatesAnimation.y1",
                                        "coolingRatesAnimation.y2",
                                        "coolingRatesAnimation.y3",
                                        "coolingRatesAnimation.notes"
                                      ]
                                    }
                                  }
                                ]
                              },
                              {
                                "name": "Plot Range",
                                "items": [
                                  {
                                    "layout": "fieldList",
                                    "config": {
                                      "fields": [
                                        "coolingRatesAnimation.plotRangeType"
                                      ]
                                    }
                                  },
                                  {
                                    "layout": "fieldTable",
                                    "config": {
                                      "columns": ["Horizontal", "Vertical"],
                                      "rows": [
                                        {
                                          "label": "Size",
                                          "fields": [
                                            "coolingRatesAnimation.horizontalSize",
                                            "coolingRatesAnimation.verticalSize"
                                          ]
                                        },
                                        {
                                          "label": "Offset",
                                          "fields": [
                                            "coolingRatesAnimation.horizontalOffset",
                                            "coolingRatesAnimation.verticalOffset"
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "layout": "panel",
                    "config": {
                      "name": "forceTableAnimation",
                      "title": "Friction Force",
                      "basic": [
                        {
                          "layout": "manualRunReport",
                          "config": {
                            "reportGroupName": "animation",
                            "reportName": "forceTableAnimation",
                            "frameIdFields": [
                              "forceTableAnimation.x",
                              "forceTableAnimation.y1",
                              "forceTableAnimation.forceScale",
                              "forceTableAnimation.plotRangeType",
                              "forceTableAnimation.horizontalSize",
                              "forceTableAnimation.horizontalOffset",
                              "forceTableAnimation.verticalSize",
                              "forceTableAnimation.verticalOffset"
                            ],
                            "reportLayout": { "layout": "graph2d", "config": {} }
                          }
                        }
                      ],
                      "advanced": [
                        {
                          "layout": "tabs",
                          "config": {
                            "tabs": [
                              {
                                "name": "Main",
                                "items": [
                                  {
                                    "layout": "fieldList",
                                    "config": {
                                      "fields": [
                                        "forceTableAnimation.plot",
                                        "forceTableAnimation.forceScale",
                                        "forceTableAnimation.notes"
                                      ]
                                    }
                                  }
                                ]
                              },
                              {
                                "name": "Plot Range",
                                "items": [
                                  {
                                    "layout": "fieldList",
                                    "config": {
                                      "fields": [
                                        "forceTableAnimation.plotRangeType"
                                      ]
                                    }
                                  },
                                  {
                                    "layout": "fieldTable",
                                    "config": {
                                      "columns": ["Horizontal", "Vertical"],
                                      "rows": [
                                        {
                                          "label": "Size",
                                          "fields": [
                                            "forceTableAnimation.horizontalSize",
                                            "forceTableAnimation.verticalSize"
                                          ]
                                        },
                                        {
                                          "label": "Offset",
                                          "fields": [
                                            "forceTableAnimation.horizontalOffset",
                                            "forceTableAnimation.verticalOffset"
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "layout": "panel",
                    "config": {
                      "name": "particleAnimation",
                      "title": "Ion Particle Animation",
                      "basic": [
                        {
                          "layout": "manualRunReport",
                          "config": {
                            "reportGroupName": "animation",
                            "reportName": "particleAnimation",
                            "shown": "$(simulationSettings.model) == 'particle'",
                            "frameIdFields": [
                              "particleAnimation.x",
                              "particleAnimation.y",
                              "particleAnimation.histogramBins",
                              "particleAnimation.plotRangeType",
                              "particleAnimation.horizontalSize",
                              "particleAnimation.horizontalOffset",
                              "particleAnimation.verticalSize",
                              "particleAnimation.verticalOffset"
                            ],
                            "reportLayout": { "layout": "heatplot", "config": {} }
                          }
                        }
                      ],
                      "advanced": [
                        {
                          "layout": "tabs",
                          "config": {
                            "tabs": [
                              {
                                "name": "Main",
                                "items": [
                                  {
                                    "layout": "fieldList",
                                    "config": {
                                      "fields": [
                                        "particleAnimation.x",
                                        "particleAnimation.y",
                                        "particleAnimation.histogramBins",
                                        "particleAnimation.framesPerSecond"
                                      ]
                                    }
                                  }
                                ]
                              },
                              {
                                "name": "Plot Range",
                                "items": [
                                  {
                                    "layout": "fieldList",
                                    "config": {
                                      "fields": ["particleAnimation.plotRangeType"]
                                    }
                                  },
                                  {
                                    "layout": "fieldTable",
                                    "config": {
                                      "columns": ["Horizontal", "Vertical"],
                                      "rows": [
                                        {
                                          "label": "Size",
                                          "fields": [
                                            "particleAnimation.horizontalSize",
                                            "particleAnimation.verticalSize"
                                          ]
                                        },
                                        {
                                          "label": "Offset",
                                          "fields": [
                                            "particleAnimation.horizontalOffset",
                                            "particleAnimation.verticalOffset"
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              },
                              {
                                "name": "Color",
                                "items": [
                                  {
                                    "layout": "fieldList",
                                    "config": {
                                      "fields": [
                                        "particleAnimation.colorRangeType",
                                        "particleAnimation.colorMin",
                                        "particleAnimation.colorMax"
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          }
        }
    ]
}
