PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE material (
	material_id BIGINT NOT NULL, 
	uid VARCHAR(8) NOT NULL, 
	created DATETIME NOT NULL, 
	material_name VARCHAR(100) NOT NULL, 
	availability_factor FLOAT NOT NULL, 
	density_g_cm3 FLOAT NOT NULL, 
	is_atom_pct BOOLEAN NOT NULL, 
	is_bare_tile BOOLEAN NOT NULL, 
	is_homogenized_divertor BOOLEAN NOT NULL, 
	is_homogenized_hcpb BOOLEAN NOT NULL, 
	is_homogenized_wcll BOOLEAN NOT NULL, 
	is_neutron_source_dt BOOLEAN NOT NULL, 
	is_plasma_facing BOOLEAN NOT NULL, 
	neutron_wall_loading VARCHAR(32) NOT NULL, 
	PRIMARY KEY (material_id)
);
INSERT INTO material VALUES(1001,'TODO RJN','2025-07-03 19:32:51.724453','Eurofer 97',0.25,19.0,0,1,0,1,0,1,1,'ITER');
INSERT INTO material VALUES(2001,'TODO RJN','2025-07-03 19:35:09.781168','Tungsten carbide',0.25,15.630000000000000781,1,1,0,1,0,1,1,'ITER');
CREATE TABLE material_component (
	material_component_id BIGINT NOT NULL, 
	material_id BIGINT NOT NULL, 
	material_component_name VARCHAR(8) NOT NULL, 
	max_pct FLOAT, 
	min_pct FLOAT, 
	target_pct FLOAT NOT NULL, 
	PRIMARY KEY (material_component_id), 
	UNIQUE (material_id, material_component_name), 
	FOREIGN KEY(material_id) REFERENCES material (material_id)
);
INSERT INTO material_component VALUES(1002,1001,'c',NULL,NULL,0.11000000000000000055);
INSERT INTO material_component VALUES(2002,1001,'cr',NULL,NULL,9.0);
INSERT INTO material_component VALUES(3002,1001,'w',NULL,NULL,1.1000000000000000888);
INSERT INTO material_component VALUES(4002,1001,'mn',NULL,NULL,0.4000000000000000222);
INSERT INTO material_component VALUES(5002,1001,'v',0.25,0.14999999999999999444,0.2000000000000000111);
INSERT INTO material_component VALUES(6002,1001,'ta',NULL,NULL,0.11999999999999999555);
INSERT INTO material_component VALUES(7002,1001,'n',NULL,NULL,0.029999999999999998889);
INSERT INTO material_component VALUES(8002,1001,'p',NULL,NULL,0.005000000000000000104);
INSERT INTO material_component VALUES(9002,1001,'s',NULL,NULL,0.005000000000000000104);
INSERT INTO material_component VALUES(10002,1001,'b',NULL,NULL,0.0020000000000000000416);
INSERT INTO material_component VALUES(11002,1001,'o',NULL,NULL,0.010000000000000000208);
INSERT INTO material_component VALUES(12002,1001,'fe',NULL,NULL,88.897999999999996138);
INSERT INTO material_component VALUES(13002,1001,'nb',0.005000000000000000104,0.0,0.005000000000000000104);
INSERT INTO material_component VALUES(14002,1001,'mo',0.005000000000000000104,0.0,0.005000000000000000104);
INSERT INTO material_component VALUES(15002,1001,'ni',0.010000000000000000208,0.0,0.010000000000000000208);
INSERT INTO material_component VALUES(16002,1001,'cu',0.010000000000000000208,0.0,0.010000000000000000208);
INSERT INTO material_component VALUES(17002,1001,'al',0.010000000000000000208,0.0,0.010000000000000000208);
INSERT INTO material_component VALUES(18002,1001,'ti',0.020000000000000000416,0.0,0.020000000000000000416);
INSERT INTO material_component VALUES(19002,1001,'si',0.050000000000000002775,0.0,0.050000000000000002775);
INSERT INTO material_component VALUES(20002,1001,'co',0.010000000000000000208,0.0,0.010000000000000000208);
INSERT INTO material_component VALUES(21002,2001,'w182',NULL,NULL,13.210271999999999792);
INSERT INTO material_component VALUES(22002,2001,'w183',NULL,NULL,7.1400180000000004199);
INSERT INTO material_component VALUES(23002,2001,'w184',NULL,NULL,15.350419999999999731);
INSERT INTO material_component VALUES(24002,2001,'w186',NULL,NULL,14.299599999999999866);
INSERT INTO material_component VALUES(25002,2001,'c12',NULL,NULL,49.999690000000001077);
CREATE INDEX ix_material_uid ON material (uid);
CREATE UNIQUE INDEX ix_material_material_name ON material (material_name);
CREATE INDEX ix_material_created ON material (created);
CREATE INDEX ix_material_component_material_id ON material_component (material_id);
COMMIT;
