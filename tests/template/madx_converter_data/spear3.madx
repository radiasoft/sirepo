title, "SPEAR3";

REAL sr_alpha_x = 1;
REAL sr_alpha_y = 1;
REAL sr_beta_x = 10;
REAL sr_beta_y = 10;
REAL sr_dp_s_coupling = 0.0;
REAL sr_gamma_x = (1 + pow(sr_alpha_x, 2)) / sr_beta_x;
REAL sr_gamma_y = (1 + pow(sr_alpha_y, 2)) / sr_beta_y;
REAL sr_n_particles_per_bunch = 10000;

BL10: DRIFT;
BL11: DRIFT;
BL12: DRIFT;
BL13: DRIFT;
BL4: DRIFT;
BL5: DRIFT;
BL6: DRIFT;
BL7: DRIFT;
BL9: DRIFT;
CAVITY: DRIFT,l=0.25;
D0: DRIFT;
DC1: DRIFT,l=1.53667;
DC2: DRIFT,l=0.0975;
DC3: DRIFT,l=0.25;
DC4: DRIFT,l=0.23;
DC5: DRIFT,l=0.200986;
DC6: DRIFT,l=0.18;
DM1: DRIFT,l=3.08259415;
DM10: DRIFT,l=2.96;
DM2: DRIFT,l=0.095;
DM3: DRIFT,l=0.28;
DM4: DRIFT,l=0.25;
DM5: DRIFT,l=0.25;
DM6: DRIFT,l=0.65305037;
DM7: DRIFT,l=0.25;
DM8: DRIFT,l=0.5;
DM9: DRIFT,l=0.105;
DMRF: DRIFT,l=2.71;
MMM: DRIFT;
SQNE: DRIFT,l=0.25;
SQNW: DRIFT,l=0.25;
SQSE: DRIFT,l=0.25;
SQSW: DRIFT,l=0.25;
HCOR: HKICKER,l=0.1;
BPM: MONITOR;
QD: QUADRUPOLE,k1=-1.569398098382,l=0.15;
QDX: QUADRUPOLE,k1=-1.37118218444,l=0.34;
QDY: QUADRUPOLE,k1=-0.439037182042,l=0.34;
QDZ: QUADRUPOLE,k1=-0.780124438508,l=0.34;
QF: QUADRUPOLE,k1=1.824535892328,l=0.34;
QFC: QUADRUPOLE,k1=1.786614917998,l=0.25;
QFX: QUADRUPOLE,k1=1.531422437496,l=0.6;
QFY: QUADRUPOLE,k1=1.317793654731,l=0.5;
QFZ: QUADRUPOLE,k1=1.41081398507,l=0.34;
B34: SBEND,angle=0.138599675893667,e1=0.069299837946834,e2=0.069299837946834,fint=0.5,k1=-0.33,k2=0.1415,l=1.08837093518965;
BEND: SBEND,angle=0.184799567858223,e1=0.092399783929112,e2=0.092399783929112,fint=0.5,k1=-0.33,k2=0.1415,l=1.45206533937021;
SD: SEXTUPOLE,k2=-36.3607602054839,l=0.25;
SDI: SEXTUPOLE,k2=-10,l=0.21;
SF: SEXTUPOLE,k2=29.6547246115592,l=0.21;
SFI: SEXTUPOLE,k2=9,l=0.21;
VCOR: VKICKER,l=0.1;
HVCOR: LINE=(HCOR,VCOR);
HCEL1: LINE=(DC1,QF,DC2,HVCOR,BPM,DC2,QD,DC3,BEND,DC4,SD,DC5,BPM,HVCOR,DC5,SF,DC6,BPM,QFC);
HCEL2: LINE=(QFC,DC6,SF,DC5,HVCOR,BPM,DC5,SD,DC4,BEND,DC3,QD,DC2,BPM,HVCOR,DC2,QF,DC1);
CEL: LINE=(HCEL1,HCEL2);
IR: LINE=(BPM,QDX,DM2,HVCOR,BPM,DM2,QFX,DM3,BPM,QDY,DM4,B34,DM5,SDI,DM6,HVCOR,BPM,DM6,SFI,DM7,QFY,DM7,SFI,DM6,HVCOR,BPM,DM6,SDI,DM5,B34,DM8,QDZ,DM9,BPM,HVCOR,DM9,QFZ,BPM);
IRSW: LINE=(DM1,SQSW,IR,DM10);
IRSE: LINE=(DM1,SQSE,IR,DMRF,CAVITY);
IRNE: LINE=(DM1,SQNE,IR,DMRF,CAVITY);
IRNW: LINE=(DM1,SQNW,IR,DM10);
RING: LINE=(MMM,BL13,CEL,BL12,CEL,BL11,CEL,CEL,BL4,CEL,BL5,CEL,BL6,CEL,-IRSE,IRNE,CEL,BL9,CEL,BL10,CEL,BL7,CEL,CEL,CEL,CEL,-IRNW,IRSW);


beam,ex=4.6e-08,ey=4.6e-08,particle=electron,pc=3.0,sigt=0.00065;
use,sequence=RING;
twiss,file="twiss.file.tfs";

